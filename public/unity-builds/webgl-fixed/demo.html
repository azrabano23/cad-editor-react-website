<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>HoloDraft CAD Viewer - WebGL Demo</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        margin: 0;
        padding: 20px;
        background: linear-gradient(135deg, #0c1829 0%, #1a2332 100%);
        color: white;
      }
      .demo-container {
        max-width: 1200px;
        margin: 0 auto;
        text-align: center;
      }
      .demo-canvas {
        width: 100%;
        max-width: 960px;
        height: 600px;
        border: 2px solid #22c55e;
        border-radius: 12px;
        background: #1a1a1a;
        margin: 20px auto;
        display: flex;
        align-items: center;
        justify-content: center;
        flex-direction: column;
      }
      .demo-content {
        padding: 40px;
        text-align: center;
      }
      .demo-icon {
        font-size: 4rem;
        margin-bottom: 20px;
      }
      .demo-title {
        font-size: 2rem;
        color: #22c55e;
        margin-bottom: 16px;
      }
      .demo-description {
        font-size: 1.2rem;
        color: #d1d5db;
        margin-bottom: 30px;
        line-height: 1.6;
      }
      .feature-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 20px;
        margin-top: 40px;
      }
      .feature-card {
        background: rgba(34, 197, 94, 0.1);
        border: 1px solid rgba(34, 197, 94, 0.3);
        border-radius: 8px;
        padding: 20px;
        text-align: left;
      }
      .feature-icon {
        font-size: 2rem;
        margin-bottom: 10px;
      }
      .feature-title {
        font-size: 1.3rem;
        color: #22c55e;
        margin-bottom: 8px;
      }
      .feature-desc {
        color: #d1d5db;
        line-height: 1.5;
      }
      .controls {
        display: flex;
        justify-content: center;
        gap: 20px;
        margin: 30px 0;
        flex-wrap: wrap;
      }
      .control-btn {
        background: linear-gradient(45deg, #22c55e, #16a34a);
        color: white;
        border: none;
        padding: 12px 24px;
        border-radius: 8px;
        font-size: 1rem;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        box-shadow: 0 4px 12px rgba(34, 197, 94, 0.3);
      }
      .control-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 20px rgba(34, 197, 94, 0.4);
      }
      .control-btn:disabled {
        background: #374151;
        cursor: not-allowed;
        transform: none;
        box-shadow: none;
      }
      .status {
        margin: 20px 0;
        padding: 15px;
        background: rgba(34, 197, 94, 0.1);
        border: 1px solid rgba(34, 197, 94, 0.3);
        border-radius: 8px;
        color: #22c55e;
      }
    </style>
  </head>
  <body>
    <div class="demo-container">
      <h1>ü•Ω HoloDraft WebGL CAD Viewer</h1>
      <p>Interactive 3D model viewing powered by Unity WebGL</p>
      
      <div class="demo-canvas" id="unity-container">
        <div class="demo-content">
          <div class="demo-icon">üéÆ</div>
          <div class="demo-title">WebGL 3D Viewer Demo</div>
          <div class="demo-description">
            This is where your converted CAD models will appear in 3D!<br>
            Upload a CAD file, convert it to FBX, and view it here with full 3D interaction.
          </div>
          
          <div class="controls">
            <button class="control-btn" onclick="simulateModelLoad()">üîÑ Load Demo Model</button>
            <button class="control-btn" onclick="toggleWireframe()">üìê Toggle Wireframe</button>
            <button class="control-btn" onclick="resetView()">üéØ Reset View</button>
          </div>
          
          <div class="status" id="status">
            Ready to load CAD models. Unity WebGL viewer initialized.
          </div>
        </div>
      </div>
      
      <div class="feature-grid">
        <div class="feature-card">
          <div class="feature-icon">üñ±Ô∏è</div>
          <div class="feature-title">Mouse Controls</div>
          <div class="feature-desc">
            ‚Ä¢ Left click + drag: Rotate model<br>
            ‚Ä¢ Right click + drag: Pan view<br>
            ‚Ä¢ Scroll wheel: Zoom in/out
          </div>
        </div>
        
        <div class="feature-card">
          <div class="feature-icon">üîß</div>
          <div class="feature-title">CAD Tools</div>
          <div class="feature-desc">
            ‚Ä¢ Measurement tools for distances<br>
            ‚Ä¢ Material and color editing<br>
            ‚Ä¢ Cross-section analysis
          </div>
        </div>
        
        <div class="feature-card">
          <div class="feature-icon">üìÅ</div>
          <div class="feature-title">File Support</div>
          <div class="feature-desc">
            ‚Ä¢ STL, STEP, OBJ, PLY, DAE<br>
            ‚Ä¢ Automatic FBX conversion<br>
            ‚Ä¢ Optimized for web viewing
          </div>
        </div>
        
        <div class="feature-card">
          <div class="feature-icon">üöÄ</div>
          <div class="feature-title">AR Ready</div>
          <div class="feature-desc">
            ‚Ä¢ Deploy to MetaQuest devices<br>
            ‚Ä¢ Hand tracking support<br>
            ‚Ä¢ Real-world scale viewing
          </div>
        </div>
      </div>
    </div>

    <script>
      let isWireframe = false;
      let modelLoaded = false;
      
      function updateStatus(message) {
        document.getElementById('status').textContent = message;
      }
      
      function simulateModelLoad() {
        updateStatus('Loading demo CAD model...');
        
        // Simulate loading process
        setTimeout(() => {
          updateStatus('‚úÖ Demo model loaded! Use mouse to interact with 3D view.');
          modelLoaded = true;
          
          // Change the demo content to show a simulated 3D model
          const canvas = document.getElementById('unity-container');
          canvas.innerHTML = `
            <div class="demo-content">
              <div style="font-size: 6rem; margin-bottom: 20px;">üîß</div>
              <div class="demo-title">3D CAD Model Loaded</div>
              <div class="demo-description">
                This represents your converted CAD model in 3D space.<br>
                In the full version, this would be an interactive Unity WebGL scene.
              </div>
              <div class="controls">
                <button class="control-btn" onclick="toggleWireframe()">üìê Toggle Wireframe</button>
                <button class="control-btn" onclick="resetView()">üéØ Reset View</button>
                <button class="control-btn" onclick="clearModel()">üóëÔ∏è Clear Model</button>
              </div>
              <div class="status" id="status">‚úÖ Model ready for AR deployment</div>
            </div>
          `;
        }, 2000);
      }
      
      function toggleWireframe() {
        if (!modelLoaded) {
          updateStatus('‚ö†Ô∏è Please load a model first');
          return;
        }
        
        isWireframe = !isWireframe;
        updateStatus(isWireframe ? 'Wireframe mode enabled' : 'Solid view mode enabled');
      }
      
      function resetView() {
        if (!modelLoaded) {
          updateStatus('‚ö†Ô∏è Please load a model first');
          return;
        }
        
        updateStatus('üéØ View reset to default position');
      }
      
      function clearModel() {
        location.reload();
      }
      
      // Simulate Unity WebGL bridge for React integration
      window.unityInstance = {
        SendMessage: function(gameObject, methodName, parameter) {
          console.log(`Unity Message: ${gameObject}.${methodName}(${parameter})`);
          updateStatus(`Unity command sent: ${methodName}`);
        },
        SetFullscreen: function(fullscreen) {
          if (fullscreen) {
            document.documentElement.requestFullscreen();
          } else {
            document.exitFullscreen();
          }
        }
      };
      
      // Notify parent window that WebGL is ready
      if (window.parent && window.parent !== window) {
        window.parent.postMessage({ type: 'unity-ready' }, '*');
      }
      
      updateStatus('WebGL viewer ready. Upload and convert a CAD file to begin!');
    </script>
  </body>
</html>
